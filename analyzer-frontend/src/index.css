@import "tailwindcss";

:root {
  /* IDE Palette - Enterprise Blueprint */
  --primary: #5266FF;
  /* Electric Indigo */
  --primary-glow: rgba(82, 102, 255, 0.15);
  --accent-purple: #8B5CF6;
  --accent-rose: #F43F5E;

  --score-high: #10B981;
  --score-med: #F59E0B;
  --score-low: #EF4444;

  --font-main: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  --font-mono: 'JetBrains Mono', 'Fira Code', monospace;

  /* Universal Layout Tokens */
  --sidebar-width: 480px;
  --header-height: 48px;
  --border-radius-sm: 2px;
  --border-radius-md: 4px;

  /* Default (Dark Pro Theme) */
  --bg-body: #0B0E14;
  /* Deep Obsidian */
  --bg-panel: #11141D;
  /* Charcoal Surface */
  --bg-node: #161B22;
  /* Module Background */
  --bg-input: #1C2128;

  --border-subtle: #21262D;
  /* Surgical Boundary */
  --border-active: #30363D;
  --border-strong: #484F58;

  --text-main: #E6EDF3;
  --text-secondary: #8B949E;
  --text-muted: #57606A;

  --shadow-surgical: 0 1px 2px rgba(0, 0, 0, 0.5);
}

.dark-theme {
  /* Already dark by default now, but keeping for compatibility */
  --bg-body: #0D1117;
  --bg-panel: #161B22;
  --border-subtle: #21262D;
  --primary: #58A6FF;
}

@layer base {
  body {
    @apply m-0 p-0 overflow-hidden antialiased;
    background-color: var(--bg-body);
    color: var(--text-main);
    font-family: var(--font-main);
    /* Subtle dot grid background for the whole app to feel tool-like */
    background-image: radial-gradient(var(--border-subtle) 0.5px, transparent 0.5px);
    background-size: 24px 24px;
  }
}

@layer components {

  /* Professional Tool Sidebar */
  .tool-sidebar {
    background-color: var(--bg-panel);
    border-right: 1px solid var(--border-subtle);
    box-shadow: var(--shadow-surgical);
  }

  /* Custom scrollbar - tighter for IDE feel */
  .custom-scrollbar::-webkit-scrollbar {
    width: 4px;
    height: 4px;
  }

  .custom-scrollbar::-webkit-scrollbar-track {
    background: transparent;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb {
    background: var(--border-active);
  }

  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: var(--border-strong);
  }

  /* IDE Tab system */
  .ide-tab {
    @apply px-3 py-1.5 text-[11px] font-bold uppercase tracking-wider transition-all border-b-2;
    border-color: transparent;
    color: var(--text-muted);
  }

  .ide-tab.active {
    border-color: var(--primary);
    color: var(--primary);
    background-color: var(--primary-glow);
  }

  /* React Flow Overrides - Blueprint Look */
  .react-flow__node {
    border-radius: var(--border-radius-sm) !important;
    background: var(--bg-node) !important;
    border: 1px solid var(--border-subtle) !important;
    color: var(--text-main) !important;
    transition: none !important;
    /* IDE tools should feel snappy, no animations */
    box-shadow: var(--shadow-surgical) !important;
    padding: 0 !important;
  }

  .react-flow__node:hover {
    border-color: var(--border-strong) !important;
  }

  .react-flow__node.selected {
    border-color: var(--primary) !important;
    box-shadow: 0 0 0 1px var(--primary) !important;
  }

  .react-flow__handle {
    width: 6px !important;
    height: 6px !important;
    background: var(--bg-body) !important;
    border: 1.5px solid var(--primary) !important;
    border-radius: 0 !important;
    /* Square handles for technical look */
  }

  .react-flow__edge-path {
    stroke: var(--border-strong) !important;
    stroke-width: 1.5 !important;
  }

  .react-flow__edge.selected .react-flow__edge-path {
    stroke: var(--primary) !important;
    stroke-width: 2 !important;
  }

  .react-flow__controls {
    background-color: var(--bg-panel) !important;
    border-color: var(--border-subtle) !important;
    box-shadow: none !important;
    margin: 1rem !important;
  }

  .react-flow__controls-button {
    background-color: transparent !important;
    border-color: var(--border-subtle) !important;
    fill: var(--text-secondary) !important;
    border-bottom: none !important;
  }

  .react-flow__controls-button:hover {
    background-color: var(--border-subtle) !important;
  }

  .react-flow__minimap {
    background-color: var(--bg-panel) !important;
    border-color: var(--border-subtle) !important;
    margin: 1rem !important;
    border-radius: 0 !important;
  }
}